@tailwind components;

@layer components {
  .mdx-contents {
    @apply text-slate-600;
    @apply dark:text-slate-400;

    h2,
    h3 {
      @apply font-extrabold text-slate-700;
      @apply dark:text-slate-300;

      &:target {
        animation: heading-target 240ms ease-in-out 700ms 2;

        @apply motion-reduce:animate-none;
        @apply motion-reduce:text-primary-600;
        @apply motion-reduce:dark:text-primary-400;
      }

      &.with-anchor {
        @apply flex items-center gap-4;

        a {
          @apply hidden cursor-pointer items-center justify-center rounded-lg border border-divider-light bg-slate-100/50 opacity-0;
          @apply lg:flex;
          @apply dark:border-divider-dark dark:bg-slate-200/5;
          @apply lg:focus:opacity-100;
        }
      }

      &:first-child {
        @apply mt-0;
      }
    }

    h2 {
      @apply mb-4 mt-6 scroll-mt-[86px] text-2xl;
      @apply md:mb-5 md:mt-7 md:text-3xl;

      &.with-anchor {
        @apply lg:-ml-12;

        a {
          @apply h-8 w-8 text-current;
        }
      }
    }

    h3 {
      @apply mb-4 mt-5 scroll-mt-[86px] text-[1.2rem];
      @apply md:mb-5 md:mt-6 md:text-[1.35rem];

      &.with-anchor {
        @apply lg:-ml-11;

        a {
          @apply h-7 w-7;
        }
      }
    }

    .link {
      @apply relative inline-flex items-center gap-1 text-primary-600;
      @apply dark:text-primary-400;

      &:hover {
        &::after {
          @apply scale-y-[1];
        }
      }

      &::after {
        @apply absolute bottom-1 left-0 right-0 z-[-1] h-2 origin-bottom scale-y-[.4] bg-primary-600/20 transition-transform content-[''];
      }
    }

    p {
      @apply leading-relaxed;

      & + p {
        @apply mt-4;
        @apply md:mt-5;
      }
    }

    strong {
      @apply font-bold text-slate-700;
      @apply dark:text-slate-300;
    }

    code {
      @apply font-medium text-slate-700;
      @apply dark:text-slate-300;

      &::before,
      &::after {
        @apply content-['`'];
      }

      &::before {
        @apply mr-[-2px];
      }

      &::after {
        @apply ml-[-2px];
      }
    }

    hr {
      @apply my-8 border-divider-light;
      @apply md:my-12;
      @apply dark:border-divider-dark;

      & + * {
        @apply mt-0;
      }

      & + h2 {
        @apply -mt-2;
      }

      & + h3 {
        @apply -mt-2;
      }
    }

    ul,
    ol {
      @apply ml-9 mt-6 mb-6;

      li {
        @apply relative leading-relaxed;

        & + li {
          @apply mt-2;
        }

        &::before {
          @apply absolute -left-9 top-[7px] h-3 w-3 rounded-[4px] bg-slate-500 content-[''];
          @apply dark:bg-slate-400;
        }
      }
    }
  }
}

@keyframes heading-target {
  50% {
    @apply opacity-20;
  }
}
